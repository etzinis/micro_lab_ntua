
FLASH:		LDA 2000H	;είσοδος
		MOV D,A	;αποθήκευση της εισόδου στο καταχωρητή D
		ANI F0H	;απομόνωση των 4 MSBs
		RRC		;και 4 ολισθήσεις δεξια για να έρθουν στην θέση των 4 LSBs
		RRC
		RRC
		RRC
		LXI H,00C8H	;φόρτωση της τιμής 200 στο διπλό καταχωρητή HL
START_1:	CPI 00H	;επανάληψη των 4 παρακάτω εντολών για τον υπολογισμό
		JZ END_1	;της συνολικής καθυστέρησης στο άναμμα των LED μέχρι ο μετρητης Α να γίνει 0
		MVI C,64H	;αποθήκευση της τιμης 100 στον καταχωρητή BC
		MVI B,00H
		DAD B		;πρόσθεση του καταχωρητή BC στον καταχωρητή HL
		DCR A		;μέιωση του μετρητή 
		JMP START_1

END_1:		MOV B,H	;μετακίνηση της τιμής του καταχωρητή HL στον καταχωρητή BC 
		MOV C,L
		
		CALL ONN	;ρουτίνα για το άναμμα των LED
		
		
		MOV A,D	;μετακίνηση στο καταχωρητη Α της τιμής εισόδου
		ANI 0FH	;απομόνωση των 4 LSBs
		LXI H,00C8H	;τα ίδια βημάτα με την διαδικασία πριν τη κλήση της ρουτίνας ONN
START_2:	CPI 00H
		JZ END_2
		MVI C,64H
		MVI B,00H
		DAD B
		DCR A
		JMP START_2

END_2:		MOV B,H
		MOV C,L
		
		CALL OFF	;ρουτίνα για το σβήσιμο των LED

		JMP FLASH	;άλμα στην αρχή για την ύπαρξη συνεχούς λειτουργίας

ONN:		MVI A,00H
		STA 3000H	;άναμμα όλων των LED
		CALL DELB	;ρουτίνα καθυστέρησης
		RET		;επιστροφή από την ρουτίνα

OFF:		MVI A,FFH
		STA 3000H	;σβήσιμο ολων των LED
		CALL DELB	;ρουτίνα καθυστέρησης
		RET		;επιστροφή από την ρουτίνα

END